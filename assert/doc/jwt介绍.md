参考资料
[JWT介绍](https://blog.csdn.net/weixin_42030357/article/details/95629924)

### 什么是JWT
JSON Web Token 简称JWT。
Json我知道

web我知道

Token？是我知道的那个token吗？
Token在这里是代币的意思，就是一个许可证。

一个JWT实际上就是一个字符串，它由三部分组成，头部、载荷与签名。
JWT生成的token是这样的

> eyJpc3MiOiJKb2huI.eyJpc3MiOiJ.Kb2huIFd1IEp

生成的token，是3段，用.连接。下面有解释。

### 头部 
用于描述关于该JWT的最基本的信息，例如其类型以及签名所用的算法等。这也可以被表示成一个JSON对象。
最终解码出来是这样的

> {
> 
> "typ": "JWT",
> 
> "alg": "HS256"
> 
> }

其中：前两段头部和载荷都是通过Base64进行编码的，后最后一段是将前两段连接在一起，然后在通过相应的加密算法（这里HS256）进行加密过后的字符串。

JWT用的加密算法，一般都是非对称加密的

### 载荷

其实就是自定义的数据，一般存储用户Id，过期时间等信息。也就是JWT的核心所在，因为这些数据就是使后端知道此token是哪个用户已经登录的凭证。而且这些数据是存在token里面的，由前端携带，所以后端几乎不需要保存任何数据。
注意：在载荷里面不应该加入任何敏感的数据，因为它直接可以通过Base64就能进行解码了。
载荷也叫消息体(payload)是一个JSON对象，一般使用Base64URL编码，存放主要的有用信息，如：登陆的用户名，登录时间，登录的过期时间，还可以放一些自定义信息【作用:指定JWT的请求数据】
这些有效信息包含三个部分：标准中注册的声明、公共的声明和私有的声明
比如

> {
> 
> "uid": "xxxxidid",  //用户id
> 
> "exp": "12121212"  //过期时间
> 
> }


### 签名
签名其实就是：
1.头部和载荷各自base64加密后用.连接起来，然后就形成了xxx.xx的前两段token。
2.最后一段token的形成是，前两段加入一个密匙用HS256算法或者其他算法加密形成。

所以token3段的形成就是在签名处形成的。
最主要的目的：服务器应用在接受到JWT后，会首先对头部和载荷的内容用同一算法再次签名，如果服务器应用对头部和载荷再次以同样方法签名之后发现，自己计算出来的签名和接受到的签名不一样，那么就说明这个Token的内容被别人动过的，我们应该拒绝这个Token，返回一个HTTP 401 Unauthorized响应。

